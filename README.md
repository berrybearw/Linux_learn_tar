# Linux_learn_tar
tar 解壓縮

除錯
---
tar: Unexpected EOF in archive
- tar: Unexpected EOF in archive
    1. tar: Unexpected EOF in archive
    2. tar: rmtlseek not stopped at a record boundary
    3. tar: Error is not recoverable: exiting now
    
參考 : https://www.itread01.com/content/1547040668.html

出現以上的問題一般有兩種情況。
```
1. 第一種是由於檔案字尾名與檔案真實的格式不匹配。
```

通過file命令檢視檔案格式：

file origin_data.tar

origin_data.tar: POSIX tar archive

#在這裡檔案格式與字尾名一致

```
2. 第二種情況就是檔案在傳輸過程中出現了錯誤，下載不完整。
```

將文件在Windows系統上使用解壓軟體，

解壓看是否報錯，報錯的話基本就可以確定是文件下載錯誤。

像是 解壓不成功，重新下載解壓縮 ok 。

常用指令
---
* 參數

### 常用參數
```
-*c* 打包檔案

-*x* 解開壓縮檔

-*t* 檢視壓縮檔的內容

-*z* 使用 gzip 壓縮

-*v* 顯示執行過程

-*P* 使用絕對路徑

-C：指定解打包或解壓縮的目錄，要注意的是這參數是大寫的C

-*f* 指定壓縮檔的檔案名稱。此參數的後面要接檔案名稱，因此要注意參數的順序 (通常是把 f 參數寫在最後一個，或是與其它參數分開使用)
```

常用語法
---
- 建立打包的 tar 檔 ( 不壓縮 ) :
    
    ```
    tar -cvf 打包使用名稱.tar 來源檔案
    ```
    
- 建立壓縮檔 ( 裡面會存有 tar 檔 ) :
    
    ```
    tar -czvf 壓縮檔名稱.tgz 來源檔案
    ```
    
    將 *來源檔案* 壓縮後，打包成一個名稱為 *壓縮檔名稱.tgz* 的檔案，*來源檔案* 可以是多個檔案或目錄。如果有多個 *來源檔案* 時，以空白字元分隔不同檔案名稱:
    
    ```
    tar -czvf 檔案名稱.tgz 來源檔案1 來源檔案2 ... 來源檔案n
    ```
    
- 檢視壓縮檔的內容:
    
    ```
    tar -tzvf 壓縮檔名稱.tgz
    ```
    
- 解開壓縮檔到目前的目錄:
    
    ```
    tar -xzvf 壓縮檔名稱.tgz
    ```
    
- 複製目錄:
    
    ```
    tar -cvf - 來源目錄 | tar -xvf -
    ```
    
    將 *來源目錄* 下的所有檔案及子目錄複製到目前的目錄，這樣做的好處是可以保留原來的檔案屬性。
    
 大量打包檔案或目錄
 ---
 ### **大量打包目錄或檔案**

tar有一個好用的參數-T是一定要學會的：有時候我們想要一次打包很多檔案，

而且這些檔案是散落各地的，此時就可以藉由此參數接上一個檔案列表，

tar就會依據這裡面的內容一個一個的去打包，讓我們用實例來說明吧，語法如下：

```
tar -cvf demo.tar -T demo.list
```

而上面語法中的「demo.list」是可以自訂名稱的，內容則是想要打包的檔案或者目錄，例如：

```
/home/demo/test
/home/demo/abc.txt
```

意思是執行完這個指令後，tar會打包「test」這個目錄以下所有的檔案(包含子目錄)，

以及「abc.txt」這個檔案，所以如果未來有很多不同的檔案或目錄要打包時，只要更新這個檔案就行了

指定解壓縮檔案
---
    
    **指定解打包/解壓縮的目錄**範例三的解打包/解壓縮的位置預設都是在當前目錄下，
    
    如果要指定某個目錄輸出的話，則要加入「**C**」這個參數，
    
    例如下面指令就是將檔案解壓縮到「 /home/demo」的目錄下
    
```
tar -zxvf demo.tar.gz -C /home/demo 
```
